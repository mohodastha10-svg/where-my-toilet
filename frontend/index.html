<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Frontend</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Public Toilet Locator</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD873fIzUMLr4Snn0SE7_uU7RBslfLPw1s&libraries=places&callback=initGoogleMap" async defer></script>

    <style>
        :root { --primary-blue: #1E64D8; --nav-height: 60px; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; background-color: #f4f7f6; }

        nav { background: white; height: var(--nav-height); width: 100%; display: flex; align-items: center; box-shadow: 0 2px 8px rgba(0,0,0,0.1); position: fixed; top: 0; z-index: 1000; }
        .nav-links { list-style: none; display: flex; height: 100%; }
        .nav-links li { height: 100%; display: flex; align-items: center; }
        .nav-links a { text-decoration: none; color: #555; font-weight: 500; padding: 0 35px; height: 100%; display: flex; align-items: center; transition: 0.3s; cursor: pointer; }
        .nav-links a:hover { background: #f5f5f5; color: var(--primary-blue); }
        .nav-links a.active { background: var(--primary-blue); color: white; }

        .section { display: none; min-height: 100vh; padding-top: var(--nav-height); }
        .section.active-section { display: flex; flex-direction: column; align-items: center; justify-content: center; }

        /* Home Section */
          #home {
    /* Added the dot-slash and ensured the name matches */
    background-image: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('./bg.jpg'); 
    background-size: cover; 
    background-position: center;
    background-repeat: no-repeat; /* Prevents the image from tiling */
    min-height: 100vh; /* Ensures the section is tall enough to see the image */
    color: white; 
    text-align: left; 
    display: flex; 
    flex-direction: column;
    justify-content: center;
    padding-left: 5%;
}

        /* Map Card */
        #search-results { text-align: center; padding: 40px; }
        .map-card { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); max-width: 600px; width: 90%; margin-top: 20px; }
        
        /* 2. CORRECTED MAP STYLE: Map needs a height to show up */
        #map { height: 400px; width: 100%; border-radius: 8px; margin-bottom: 15px; background: #eee; }
        
        .status-badge { background: #d4edda; color: #155724; padding: 5px 10px; border-radius: 5px; font-size: 0.8rem; display: inline-block; }

        /* Forms & Cards */
        .form-box { background: white; padding: 40px; border-radius: 10px; width: 100%; max-width: 500px; text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .form-control { width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 5px; font-family: inherit; }
        .btn-submit { width: 100%; background: var(--primary-blue); color: white; border: none; padding: 12px; border-radius: 5px; cursor: pointer; font-weight: 600; }
        
        .support-grid { display: flex; gap: 20px; margin-top: 30px; }
        .support-card { background: white; padding: 30px; border-radius: 10px; width: 200px; cursor: pointer; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .icon { font-size: 40px; margin-bottom: 15px; display: block; }
        .about-text { color: #555; line-height: 1.6; margin-bottom: 20px; font-size: 1rem; text-align: justify; }
    </style>
</head>
<body>

    <nav>
        <ul class="nav-links">
            <li><a onclick="showSection('home')" id="link-home" class="active">Home</a></li>
            <li><a onclick="showSection('feedback')" id="link-feedback">Feedback</a></li>
            <li><a onclick="showSection('support')" id="link-support">Support</a></li>
            <li><a onclick="showSection('about')" id="link-about">About Us</a></li>
        </ul>
    </nav>

    <section id="home" class="section active-section">
        <h1>Welcome!</h1>
        <p style="font-size: 1.2rem; margin-bottom: 20px;">Find the nearest clean and accessible toilet instantly.</p>
        <div class="search-container">
            <input type="text" id="locationInput" class="search-input" placeholder="Enter city or area...">
            <button class="search-btn" onclick="performSearch()">Search</button>
        </div>
    </section>

    <section id="search-results" class="section">
        <h2>Nearby Facilities</h2>
        <p>Showing results for: <b id="search-term">...</b></p>
        
        <div class="map-card">
            <div id="map"></div> 
            <div class="location-details" style="text-align: left;">
                <h3>Public Restroom - Found</h3>
                <span class="status-badge">Available 24/7</span>
                <p style="margin-top: 10px; color: #666;">Distance: 1.2 km ‚Ä¢ Cleanliness: 4.5/5</p>
                <button class="btn-submit" id="navigate-btn" style="margin-top: 15px;">Navigate (Google Maps)</button>
            </div>
        </div>
        <br>
        <button onclick="showSection('home')" style="border:none; background:none; text-decoration:underline; cursor:pointer; color: #666;">Back to Search</button>
    </section>

    <section id="feedback" class="section">
        <div class="form-box">
            <h2>Submit Feedback</h2><br>
            <input type="text" class="form-control" placeholder="Facility Name">
            <select class="form-control">
                <option>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê - Excellent</option>
                <option>‚≠ê‚≠ê‚≠ê - Good</option>
                <option>‚≠ê - Bad</option>
            </select>
            <textarea class="form-control" rows="4" placeholder="Comments..."></textarea>
            <button class="btn-submit" onclick="alert('Feedback Submitted!')">Submit</button>
        </div>
    </section>

    <section id="support" class="section">
        <h2>Support Center</h2>
        <div class="support-grid">
            <div class="support-card" onclick="alert('Calling Support...')"><span class="icon">üìû</span><h3>Contact Us</h3></div>
            <div class="support-card" onclick="alert('Opening Help Center...')"><span class="icon">‚ùì</span><h3>Help</h3></div>
        </div>
    </section>

    <section id="about" class="section">
        <div class="form-box">
            <h2>About Our Team</h2>
            <p class="about-text" style="margin-top: 20px;">
                We are a group of developers dedicated to solving public hygiene challenges. 
                Our goal is to provide a seamless way to locate the nearest and cleanest restrooms.
            </p>
            <h3 style="margin-top: 20px; color: #333;">Our Vision</h3>
            <p class="about-text" style="text-align: center;">"Clean Cities, Healthy Lives."</p>
            <button class="btn-submit" onclick="showSection('home')">Go to Home</button>
        </div>
    </section>

    <script>
        let map;
        let marker;

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active-section'));
            document.querySelectorAll('.nav-links a').forEach(link => link.classList.remove('active'));
            
            const targetSection = document.getElementById(sectionId);
            const targetLink = document.getElementById('link-' + sectionId);
            
            if(targetSection) targetSection.classList.add('active-section');
            if(targetLink) targetLink.classList.add('active');
        }

        // Logic to run when Search button is clicked
        function performSearch() {
            const inputVal = document.getElementById('locationInput').value;
            if(inputVal) {
                document.getElementById('search-term').innerText = inputVal;
                showSection('search-results');
                
                // Initialize map with the query
                initGoogleMap(inputVal);

                document.getElementById('navigate-btn').onclick = function() {
                    const googleUrl = 'https://www.google.com/maps/search/' + encodeURIComponent(inputVal + " public toilet");
                    window.open(googleUrl, '_blank');
                };
            } else {
                alert("Please enter a location!");
            }
        }

        // 4. MAIN MAP FUNCTION
        function initGoogleMap(locationQuery = "Nagpur") {
            const defaultPos = { lat: 21.1458, lng: 79.0882 };
            
            if (typeof google === 'undefined') {
                console.error("Google Maps API not loaded");
                return;
            }

            map = new google.maps.Map(document.getElementById("map"), {
                zoom: 14,
                center: defaultPos,
            });

            marker = new google.maps.Marker({
                position: defaultPos,
                map: map,
                title: "Location"
            });

            if (locationQuery) {
                const geocoder = new google.maps.Geocoder();
                geocoder.geocode({ address: locationQuery }, (results, status) => {
                    if (status === "OK") {
                        map.setCenter(results[0].geometry.location);
                        marker.setPosition(results[0].geometry.location);
                    }
                });
            }
        }

        // Listen for Enter key in search box
        document.getElementById("locationInput").addEventListener("keypress", function(e) {
            if (e.key === "Enter") performSearch();
        });
    </script>
</body>
</html>